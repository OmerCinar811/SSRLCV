<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SSRLCV: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SSRLCV
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SSRLCV Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line"> _______                               _____ ______ __  __ </div><div class="line">|__   __|                             / ____|  ____|  \/  |</div><div class="line">   | | ___  __ _ _ __ __ _   ______  | (___ | |__  | \  / |</div><div class="line">   | |/ _ \/ _` | &#39;__/ _` | |______|  \___ \|  __| | |\/| |</div><div class="line">   | |  __/ (_| | | | (_| |           ____) | |    | |  | |</div><div class="line">   |_|\___|\__, |_|  \__,_|          |_____/|_|    |_|  |_|</div><div class="line">            __/ |                                          </div><div class="line">           |___/                                           </div></div><!-- fragment --><h1>Tegra - Structure from Motion</h1>
<h2>Create the following directories if they do not exist</h2>
<p>bin, data, obj, out, src, util (util, data, and src should be in repository)</p>
<h2>File Naming Convention</h2>
<p>If a file has CUDA in it of any sort -&gt; .cu and its header -&gt; .cuh. All other files can be .cpp and .h</p>
<h2>Dependencies</h2>
<ul>
<li>libpng</li>
<li>libtiff-dev</li>
<li>g++</li>
<li>gcc</li>
<li>nvcc</li>
<li>CUDA 10.0</li>
</ul>
<h2>Compilation</h2>
<p>When making you should use the SM of your arch, you do this by setting the <code>SM</code> variable. I also recommend doing a multicore make with the <code>-j</code> flag. See below, where <code>#</code> are digits of integers:</p>
<div class="fragment"><div class="line">make sfm -j# SM=##</div></div><!-- fragment --><table class="doxtable">
<tr>
<th align="center">Device </th><th align="center">Recommended  </th></tr>
<tr>
<td align="center">TX2i </td><td align="center"><code>make sfm -j3 SM=52</code> </td></tr>
<tr>
<td align="center">Jetson Nano </td><td align="center"><code>make sfm -j3 SM=53</code> </td></tr>
<tr>
<td align="center">Ubuntu 16.04 with GTX 1060/1070 </td><td align="center"><code>make sfm -j5 SM=61</code> </td></tr>
</table>
<p>You can also clean out the repo, to just have the standard files again, with</p>
<div class="fragment"><div class="line">make clean</div></div><!-- fragment --><h2>Documentation</h2>
<ul>
<li>Generate Doxygen by executing <code>doxygen doc/doxygen/Doxyfile</code> from within the projects root directory</li>
<li>index.html will be available in doc/doxygen/documentation/html and will allow traversal of the documentation</li>
</ul>
<h2>Running</h2>
<h3>Full Pipeline</h3>
<p>There is no full pipeline main setup so far. There are separate pipelines compiled in the <code>/bin</code> directory. To learn about the popeline, you can find information on SIFT can be learned here: <a href="http://gitlab.smallsat.uga.edu/Caleb/anatomy-of-sift/blob/master/Anatomy%20of%20SIFT.pdf">Anatomy of SIFT</a>, this sn't Lowe's original thing but it explains it pretty well. You should also see the latex doc that has been made, <a href="https://gitlab.smallsat.uga.edu/payload_software/Tegra-SFM/blob/master/doc/paper/main.pdf">located here</a> - this is known as the <a href="https://gitlab.smallsat.uga.edu/payload_software/Tegra-SFM/blob/master/doc/paper/main.pdf">Algorithm Theoretical Basis Document</a>.</p>
<h2>Source</h2>
<p>Source files for the nominal program are located in the <code>src</code> folder. Some additional programs are located in the <code>util</code> folder. Dependences for the source file are list here, but dependencies for the util files may vary.</p>
<h2>Camera Parameters</h2>
<p>The image rotation encodes which way the camera was facing as a <a href="https://en.wikipedia.org/wiki/Rotation_of_axes">rotation of axes</a> around the individual x, y, and z axes in R3. This, along with a physical position in R3, should be passed in by the ADCS. All other parameters should be known. The focal length is usually on the order of mm and the dpix is usually on the order of nm.</p>
<table class="doxtable">
<tr>
<th align="center">Data type </th><th align="center">Variable Name </th><th align="center">SI unit </th><th align="center">Description  </th></tr>
<tr>
<td align="center"><code>float3</code> </td><td align="center"><code>cam_pos</code> </td><td align="center">Meters </td><td align="center">The x,y,z camera position </td></tr>
<tr>
<td align="center"><code>float3</code> </td><td align="center"><code>cam_rot</code> </td><td align="center">Radians </td><td align="center">The x,y,z camera rotation </td></tr>
<tr>
<td align="center"><code>float2</code> </td><td align="center"><code>fov</code> </td><td align="center">Radians </td><td align="center">The x and y field of view </td></tr>
<tr>
<td align="center"><code>float</code> </td><td align="center"><code>foc</code> </td><td align="center">Meters </td><td align="center">The camera's focal length </td></tr>
<tr>
<td align="center"><code>float2</code> </td><td align="center"><code>dpix</code> </td><td align="center">Meters </td><td align="center">The physical dimensions of a pixel well </td></tr>
<tr>
<td align="center"><code>long long int</code> </td><td align="center"><code>timeStamp</code> </td><td align="center">UNIX timestamp </td><td align="center">A UNIX timestap from the time of imaging </td></tr>
<tr>
<td align="center"><code>uint2</code> </td><td align="center"><code>size</code> </td><td align="center">Pixels </td><td align="center">The x and y pixel size of the image </td></tr>
</table>
<h2>File Formats</h2>
<h3>ASCII Camera Parameters - <code>.csv</code> ASCII encoded file</h3>
<p>The ASCII encoded files that contain camera parameters should be included in the same directory as the images you wish to run a reconstruction on. It is required that the file be named <code>params.csv</code>. The file consists of the <code>Image.camera</code> struct parameters (mentioned above for ease) in order. The format is as follows:</p>
<div class="fragment"><div class="line">filename,x position,y position, z position, x rotation, y rotation, z rotation, x field of view, y field of view, camera focal length, x pixel well size, y pixel well size, UNIX timestamp, x pixel count, y pixel count</div></div><!-- fragment --><p>the files should be listed in a numerical order, each file should have a new line.</p>
<p>and example of this is:</p>
<div class="fragment"><div class="line">ev01.png,781.417,0.0,4436.30,0.0,0.1745329252,0.0,0.19933754453,0.19933754453,0.16,0.4,0.4,1580766557,1024,1024</div><div class="line">ev02.png,0.0,0.0,4500.0,0.0,0.0,0.0,0.19933754453,0.19933754453,0.16,0.4,0.4,1580766557,1024,1024</div></div><!-- fragment --><h3>Binary Camera Parameters - <code>.bcp</code> file type</h3>
<p>This is the binary version of the ascii format.</p>
<h3>Image File Formats - <code>.png</code> , <code>.tiff</code> , <code>.jpg</code></h3>
<p>TODO information about image support limitations here</p>
<h3>Point Clouds - <code>.ply</code> stanford PLY format</h3>
<p>TODO information about ply support and limitations here</p>
<h3>Match Files - unknown</h3>
<p>TODO Match file support here</p>
<p>Check out the <a class="el" href="md_CONTRIB.html">contributors guide</a> for imformation on contributions</p>
<h1>TODO</h1>
<ul>
<li>ensure that thrust functions are usi ng GPU</li>
<li>more documentations </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
